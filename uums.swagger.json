{"swagger":"2.0","info":{"version":"2.0","title":"UUMS APIs","contact":{"name":"yangyufei"}},"host":"10.9.242.79:10211","basePath":"/uums","tags":[{"name":"User Management Module","description":"用户管理"},{"name":"Organization Management Module","description":"部门管理"},{"name":"Permission Role Management Module","description":"角色权限管理"}],"paths":{"/orgs":{"get":{"tags":["Organization Management Module"],"summary":"查询部门接口","description":"查询部门","operationId":"queryOrgsUsingGET","consumes":["application/json"],"produces":["*/*","application/json;charset=UTF-8"],"parameters":[{"name":"parentOrgId","in":"query","description":"父级部门id 查询全部一级部门","required":false,"type":"integer","format":"int32"},{"name":"orgName","in":"query","description":"部门名称","required":false,"type":"string"},{"name":"page","in":"query","description":"页码，默认1","required":false,"type":"integer","format":"int32"},{"name":"number","in":"query","description":"记录数,默认25","required":false,"type":"integer","format":"int32"},{"name":"pagination","in":"query","description":"是否分页，默认1，0-不分页，1-分页","required":false,"type":"integer","format":"int32"},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/OrganizationResultVO"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"15","resourceId":"10","moduleCode":"SF0006","sysId":"01","resourceName":"部门资源","moduleId":"06"}},"post":{"tags":["Organization Management Module"],"summary":"新建部门接口","description":"新建部门","operationId":"addOrgsUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"param","description":"param","required":true,"schema":{"$ref":"#/definitions/CreateOrgParam"}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":true,"x-permission":{"sysCode":"SENSEFACE","permissionId":"16","resourceId":"10","moduleCode":"SF0006","sysId":"01","resourceName":"部门资源","moduleId":"06"}}},"/orgs/tree":{"get":{"tags":["Organization Management Module"],"summary":"查询部门树形结构接口","description":"查询部门树形结构","operationId":"queryOrgTreeUsingGET","consumes":["application/json"],"produces":["*/*","application/json;charset=UTF-8"],"parameters":[{"name":"keyword","in":"query","description":"部门关键字[目前只支持部门名称]","required":false,"type":"string"},{"name":"parentOrgId","in":"query","description":"部门父级id","required":false,"type":"integer","format":"int32"},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/OrgTreeVo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"20","resourceId":"12","moduleCode":"SF0006","sysId":"01","resourceName":"部门资源","moduleId":"06"}}},"/orgs/users":{"get":{"tags":["Organization Management Module"],"summary":"根据部门id查询用户(过滤系统管理员)","description":"查询部门用户","operationId":"listUsersByOrgIdUsingGET","consumes":["application/json"],"produces":["*/*","application/json;charset=UTF-8"],"parameters":[{"name":"orgId","in":"query","description":"orgId","required":true,"type":"integer","format":"int32"},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/QueryUserResutVo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"24","resourceId":"15","moduleCode":"SF0006","sysId":"01","resourceName":"部门用户资源","moduleId":"06"}}},"/orgs/{orgId}":{"get":{"tags":["Organization Management Module"],"summary":"查询单个部门信息接口","description":"查询部门","operationId":"queryOrgInfoUsingGET","consumes":["application/json"],"produces":["*/*","application/json;charset=UTF-8"],"parameters":[{"name":"orgId","in":"path","description":"组织id","required":false,"type":"integer","format":"int32"},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/OrganizationResultVO"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"17","resourceId":"11","moduleCode":"SF0006","sysId":"01","resourceName":"单个部门资源","moduleId":"06"}},"put":{"tags":["Organization Management Module"],"summary":"修改部门接口","description":"修改部门","operationId":"modifyOrgsUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"orgId","in":"path","description":"部门id","required":false,"type":"integer","format":"int32"},{"in":"body","name":"param","description":"param","required":true,"schema":{"$ref":"#/definitions/CreateOrgParam"}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":true,"x-permission":{"sysCode":"SENSEFACE","permissionId":"18","resourceId":"11","moduleCode":"SF0006","sysId":"01","resourceName":"单个部门资源","moduleId":"06"}},"delete":{"tags":["Organization Management Module"],"summary":"删除部门接口","description":"删除部门","operationId":"removeOrgsUsingDELETE","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"orgId","in":"path","description":"部门id","required":false,"type":"integer","format":"int32"},{"in":"body","name":"param","description":"param","required":false,"schema":{"$ref":"#/definitions/CreateOrgParam"}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}},"deprecated":true,"x-permission":{"sysCode":"SENSEFACE","permissionId":"19","resourceId":"11","moduleCode":"SF0006","sysId":"01","resourceName":"单个部门资源","moduleId":"06"}}},"/roles":{"get":{"tags":["Permission Role Management Module"],"summary":"查询用户可使用角色列表","description":"查询用户角色列表","operationId":"queryUserRolesUsingGET","consumes":["application/json"],"produces":["*/*","application/json;charset=UTF-8"],"parameters":[{"name":"roleName","in":"query","description":"角色名称","required":false,"type":"string"},{"name":"state","in":"query","description":"角色状态.1-启用，2-禁用，3-删除,默认查询1，2","required":false,"type":"integer","format":"int32"},{"name":"sort","in":"query","description":"创建时间排序，默认降序排列desc，升序传入asc","required":false,"type":"string"},{"name":"page","in":"query","description":"页码，默认1","required":false,"type":"integer","format":"int32"},{"name":"number","in":"query","description":"记录数,默认25","required":false,"type":"integer","format":"int32"},{"name":"pagination","in":"query","description":"是否分页，默认1，0-不分页，1-分页","required":false,"type":"integer","format":"int32"},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/RoleResutlVo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"51","resourceId":"51","moduleCode":"SF0007","sysId":"01","resourceName":"角色资源","moduleId":"07"}},"post":{"tags":["Permission Role Management Module"],"summary":"添加角色","description":"添加角色","operationId":"addRoleUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"createRoleParam","description":"createRoleParam","required":true,"schema":{"$ref":"#/definitions/CreateRoleParam"}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"52","resourceId":"51","moduleCode":"SF0007","sysId":"01","resourceName":"角色资源","moduleId":"07"}}},"/roles/{roleId}":{"put":{"tags":["Permission Role Management Module"],"summary":"修改角色","description":"修改角色","operationId":"updateRoleUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"roleId","in":"path","description":"角色id","required":true,"type":"integer","format":"int32"},{"in":"body","name":"updateRoleParam","description":"updateRoleParam","required":true,"schema":{"$ref":"#/definitions/CreateRoleParam"}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"53","resourceId":"52","moduleCode":"SF0007","sysId":"01","resourceName":"单个角色资源","moduleId":"07"}},"delete":{"tags":["Permission Role Management Module"],"summary":"删除角色","description":"删除角色","operationId":"removeRoleUsingDELETE","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"roleId","in":"path","description":"角色id","required":true,"type":"integer","format":"int32"},{"in":"body","name":"updateRoleParam","description":"updateRoleParam","required":false,"schema":{"$ref":"#/definitions/CreateRoleParam"}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"54","resourceId":"52","moduleCode":"SF0007","sysId":"01","resourceName":"单个角色资源","moduleId":"07"}}},"/roles/{roleId}/changestate":{"put":{"tags":["Permission Role Management Module"],"summary":"启用/禁用角色","description":"启用/禁用角色","operationId":"chageRoleStateUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"roleId","in":"path","description":"角色id","required":true,"type":"integer","format":"int32"},{"name":"state","in":"query","description":"状态,1-启用，2-禁用","required":true,"type":"integer","format":"int32"},{"in":"body","name":"updateRoleParam","description":"updateRoleParam","required":false,"schema":{"$ref":"#/definitions/CreateRoleParam"}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"55","resourceId":"53","moduleCode":"SF0007","sysId":"01","resourceName":"启用/禁用角色资源","moduleId":"07"}}},"/roles/{roleId}/permissions":{"get":{"tags":["Permission Role Management Module"],"summary":"查询角色对应权限列表","description":"查询角色对应权限列表","operationId":"queryPermissionsByRoleUsingGET","consumes":["application/json"],"produces":["*/*","application/json;charset=UTF-8"],"parameters":[{"name":"roleId","in":"path","description":"角色id","required":true,"type":"integer","format":"int32"},{"name":"page","in":"query","description":"页码，默认1","required":false,"type":"integer","default":1,"format":"int32"},{"name":"number","in":"query","description":"每页大小，默认25","required":false,"type":"integer","default":25,"format":"int32"},{"name":"pagination","in":"query","description":"是否分页，默认1，0-不分页查找全部，1-分页","required":false,"type":"integer","default":1,"format":"int32"},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PermissionResultVo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"56","resourceId":"54","moduleCode":"SF0007","sysId":"01","resourceName":"角色权限资源","moduleId":"07"}}},"/users":{"get":{"tags":["User Management Module"],"summary":"查询用户接口","description":"查询用户","operationId":"queryUsersUsingGET","consumes":["application/json"],"produces":["*/*","application/json;charset=UTF-8"],"parameters":[{"name":"identityId","in":"query","description":"身份证号","required":false,"type":"string"},{"name":"orgId","in":"query","description":"部门id","required":false,"type":"integer","format":"int32"},{"name":"roleId","in":"query","description":"角色Id","required":false,"type":"string"},{"name":"state","in":"query","description":"用户状态.1-启用，2-禁用，3-删除,默认查询1，2","required":false,"type":"integer","format":"int32"},{"name":"keywords","in":"query","description":"搜索关键字[用户名]","required":false,"type":"string"},{"name":"pagination","in":"query","description":"是否分页，默认1，0-不分页，1-分页","required":false,"type":"integer","format":"int32"},{"name":"page","in":"query","description":"页码，默认=1","required":false,"type":"integer","format":"int32"},{"name":"num","in":"query","description":"每页数量，默认=25","required":false,"type":"integer","format":"int32"},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"query success","schema":{"$ref":"#/definitions/QueryUserResutVo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"1","resourceId":"1","moduleCode":"SF0006","sysId":"01","resourceName":"用户资源","moduleId":"06"}},"post":{"tags":["User Management Module"],"summary":"新建用户接口","description":"新建用户,成功后返回userId","operationId":"addUserUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"createUserParam","description":"createUserParam","required":true,"schema":{"$ref":"#/definitions/CreateUserParam"}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"integer","format":"int64"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"2","resourceId":"1","moduleCode":"SF0006","sysId":"01","resourceName":"用户资源","moduleId":"06"}},"delete":{"tags":["User Management Module"],"summary":"批量删除用户接口","description":"批量删除用户","operationId":"batchRemoveUsersUsingDELETE","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"removeUserIds","description":"待删除用户id列表","required":false,"schema":{"type":"array","items":{"type":"integer","format":"int64"}}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"3","resourceId":"1","moduleCode":"SF0006","sysId":"01","resourceName":"用户资源","moduleId":"06"}}},"/users/cnts":{"get":{"tags":["User Management Module"],"summary":"获取全部用户数量","description":"获取全部用户数量","operationId":"queryUserCntsUsingGET","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"13","resourceId":"8","moduleCode":"SF0006","sysId":"01","resourceName":"用户数量","moduleId":"06"}}},"/users/defaultpassword":{"get":{"tags":["User Management Module"],"summary":"获取用户默认密码","description":"获取用户默认密码","operationId":"getDefaultUserPasswordUsingGET","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"12","resourceId":"7","moduleCode":"SF0006","sysId":"01","resourceName":"用户默认密码","moduleId":"06"}}},"/users/firstEdit":{"put":{"tags":["User Management Module"],"summary":"修改单个用户首次编辑任务记录","description":"修改单个用户首次编辑任务记录","operationId":"updateUserFirstEditUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/users/orgs":{"get":{"tags":["User Management Module"],"summary":"查询用户部门结构","description":"查询用户部门结构","operationId":"queryUserOrgsUsingGET","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"userIds","in":"query","description":"待查询用户列表","required":false,"type":"array","items":{"type":"integer","format":"int64"},"collectionFormat":"multi"},{"name":"keywords","in":"query","description":"查询关键字[部门和用户名，当userIds存在，此字段不起作用]","required":false,"type":"string"},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UserOrgVo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"14","resourceId":"9","moduleCode":"SF0006","sysId":"01","resourceName":"查询用户部门结构","moduleId":"06"}}},"/users/self":{"get":{"tags":["User Management Module"],"summary":"用户查询自身个人信息接口","description":"用户查询自身个人信息","operationId":"getSelfUserInfoUsingGET","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/QueryUserDetailVo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"21","resourceId":"13","moduleCode":"SF0006","sysId":"01","resourceName":"用户资源","moduleId":"06"}},"put":{"tags":["User Management Module"],"summary":"修改个人信息","description":"修改个人信息","operationId":"modifySelfUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"updateUserParam","description":"updateUserParam","required":true,"schema":{"$ref":"#/definitions/CreateUserParam"}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"22","resourceId":"13","moduleCode":"SF0006","sysId":"01","resourceName":"用户资源","moduleId":"06"}}},"/users/self/modifypwd":{"put":{"tags":["User Management Module"],"summary":"用户修改自身密码接口","description":"修改密码","operationId":"modifySelfPasswordUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"userPwdParam","description":"userPwdParam","required":true,"schema":{"$ref":"#/definitions/UserPwdParam"}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"23","resourceId":"14","moduleCode":"SF0006","sysId":"01","resourceName":"用户修改自身密码接口","moduleId":"06"}}},"/users/{userId}":{"get":{"tags":["User Management Module"],"summary":"查询用户个人信息接口","description":"查询用户个人信息","operationId":"getUserInfoUsingGET","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"userId","in":"path","description":"用户id","required":true,"type":"integer","format":"int64"},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/QueryUserDetailVo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"4","resourceId":"2","moduleCode":"SF0006","sysId":"01","resourceName":"修改用户资源","moduleId":"06"}},"put":{"tags":["User Management Module"],"summary":"修改用户接口","description":"修改用户","operationId":"modifyUserUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"userId","in":"path","description":"待修改用户id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"updateUserParam","description":"updateUserParam","required":true,"schema":{"$ref":"#/definitions/CreateUserParam"}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"5","resourceId":"2","moduleCode":"SF0006","sysId":"01","resourceName":"修改用户资源","moduleId":"06"}},"delete":{"tags":["User Management Module"],"summary":"删除用户接口","description":"删除用户","operationId":"deleteUserUsingDELETE","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"userId","in":"path","description":"待删除用户id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"updateUserParam","description":"updateUserParam","required":false,"schema":{"$ref":"#/definitions/CreateUserParam"}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"6","resourceId":"2","moduleCode":"SF0006","sysId":"01","resourceName":"修改用户资源","moduleId":"06"}}},"/users/{userId}/changestate":{"put":{"tags":["User Management Module"],"summary":"启用/禁用用户接口","description":"禁用用户","operationId":"changeUserStatusUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"userId","in":"path","description":"用户id","required":true,"type":"integer","format":"int64"},{"name":"state","in":"query","description":"启用/禁用状态，1-启用，2-禁用","required":true,"type":"integer","format":"int32"},{"in":"body","name":"updateUserParam","description":"updateUserParam","required":false,"schema":{"$ref":"#/definitions/CreateUserParam"}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"9","resourceId":"5","moduleCode":"SF0006","sysId":"01","resourceName":"启用/禁用用户","moduleId":"06"}}},"/users/{userId}/modifypwd":{"put":{"tags":["User Management Module"],"summary":"修改用户密码接口","description":"修改密码","operationId":"modifyPasswordUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"userId","in":"path","description":"用户id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"userPwdParam","description":"userPwdParam","required":true,"schema":{"$ref":"#/definitions/UserPwdParam"}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"8","resourceId":"4","moduleCode":"SF0006","sysId":"01","resourceName":"修改用户密码","moduleId":"06"}}},"/users/{userId}/permissions":{"get":{"tags":["User Management Module"],"summary":"查询用户权限","description":"查询用户权限","operationId":"queryUserPermissionsUsingGET","consumes":["application/json"],"produces":["*/*","application/json;charset=UTF-8"],"parameters":[{"name":"userId","in":"path","description":"用户Id","required":false,"type":"integer","format":"int64"},{"name":"page","in":"query","description":"页码，默认1","required":false,"type":"integer","default":1,"format":"int32"},{"name":"number","in":"query","description":"每页大小，默认25","required":false,"type":"integer","default":25,"format":"int32"},{"name":"pagination","in":"query","description":"是否分页，默认1，0-不分页查找全部，1-分页","required":false,"type":"integer","default":1,"format":"int32"},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PermissionResultVo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"10","resourceId":"6","moduleCode":"SF0006","sysId":"01","resourceName":"查询用户权限","moduleId":"06"}},"put":{"tags":["User Management Module"],"summary":"修改用户角色权限","description":"修改用户角色权限","operationId":"updateUserRoleUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"userId","in":"path","description":"用户Id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"userRoleParam","description":"userRoleParam","required":true,"schema":{"$ref":"#/definitions/UserRoleParam"}},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"11","resourceId":"6","moduleCode":"SF0006","sysId":"01","resourceName":"修改用户权限","moduleId":"06"}}},"/users/{userId}/reset":{"put":{"tags":["User Management Module"],"summary":"重置用户密码接口","description":"重置密码","operationId":"resetUserPasswordUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"userId","in":"path","description":"用户id","required":true,"type":"integer","format":"int64"},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"7","resourceId":"3","moduleCode":"SF0006","sysId":"01","resourceName":"重置用户密码","moduleId":"06"}}},"/{sysCode}/module/permissions":{"get":{"tags":["Permission Role Management Module"],"summary":"查询系统模块权限","description":"查询系统模块权限","operationId":"queryModulePermissionsUsingGET","consumes":["application/json"],"produces":["*/*","application/json;charset=UTF-8"],"parameters":[{"name":"sysCode","in":"path","description":"系统代码","required":true,"type":"string"},{"name":"accessToken","in":"header","description":"accessToken","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/SysModulePermissionResultVo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"x-permission":{"sysCode":"SENSEFACE","permissionId":"57","resourceId":"55","moduleCode":"SF0007","sysId":"01","resourceName":"角色权限资源","moduleId":"07"}}}},"definitions":{"CreateOrgParam":{"type":"object","properties":{"abbreviation":{"type":"string","description":"简称"},"organCode":{"type":"string","description":"部门代码"},"organName":{"type":"string","description":"部门名称"},"parentOrgId":{"type":"integer","format":"int32","description":"父级部门id，1级部门父级id为0"},"remark":{"type":"string","description":"备注"},"totalNum":{"type":"integer","format":"int32","description":"可创建用户数"}}},"TypePermissionVo":{"type":"object","properties":{"moduleCode":{"type":"string","description":"所属模块代码"},"permissions":{"type":"array","description":"权限列表数据","items":{"$ref":"#/definitions/QueryPermissionVo"}},"typeId":{"type":"integer","format":"int64","description":"类型id"},"typeName":{"type":"string","description":"类型名称"}}},"PermissionResultVo":{"type":"object","properties":{"moduleCode":{"type":"string","description":"模块名称"},"permissionCode":{"type":"string","description":"权限代码"},"permissionName":{"type":"string","description":"权限名称"},"remark":{"type":"string","description":"备注"},"sysCode":{"type":"string","description":"系统代码"}}},"OrgTreeVo":{"type":"object","properties":{"children":{"type":"array","description":"下级部门","items":{"$ref":"#/definitions/OrgTreeVo"}},"name":{"type":"string","description":"部门名称"},"organId":{"type":"integer","format":"int32","description":"部门id"},"parentId":{"type":"integer","format":"int32","description":"父级部门id"}}},"QueryUserDetailVo":{"type":"object","properties":{"createDate":{"type":"string","format":"date-time","description":"创建时间"},"orgId":{"type":"string","description":"部门id"},"organName":{"type":"string","description":"部门名称"},"phone":{"type":"string","description":"电话号码"},"realName":{"type":"string","description":"用户名"},"remark":{"type":"string","description":"备注"},"roles":{"type":"array","description":"角色列表","items":{"$ref":"#/definitions/RoleResutlVo"}},"serial":{"type":"string","description":"编号[例如:警号]"},"state":{"type":"integer","format":"int32","description":"状态,1-正常，2-禁用，3-删除"},"unit":{"type":"string","description":"单位"},"updateDate":{"type":"string","format":"date-time","description":"更新时间"},"userId":{"type":"integer","format":"int64","description":"userId"},"userName":{"type":"string","description":"登录名"}}},"OrganizationResultVO":{"type":"object","properties":{"abbreviation":{"type":"string","description":"简称"},"code":{"type":"string","description":"代码"},"createTime":{"type":"string","format":"date-time","description":"创建时间"},"createdNum":{"type":"integer","format":"int32","description":"本部门已创建用户数"},"creatorName":{"type":"string","description":"创建人"},"name":{"type":"string","description":"部门名称"},"organId":{"type":"integer","format":"int32","description":"部门id"},"parentId":{"type":"integer","format":"int32","description":"父级部门id"},"remark":{"type":"string","description":"备注"},"subOrgNum":{"type":"integer","format":"int64","description":"下一级部门数量"},"totalNum":{"type":"integer","format":"int32","description":"本部门可创建用户数"},"updateTime":{"type":"string","format":"date-time","description":"更新时间"},"updateUserName":{"type":"string","description":"更新人"},"userNum":{"type":"integer","format":"int32","description":"本部门以及下级部门用户数"}}},"SysModulePermissionResultVo":{"type":"object","properties":{"moduleCode":{"type":"string","description":"模块代码"},"moduleName":{"type":"string","description":"模块名称"},"sysCode":{"type":"string","description":"系统代码"},"types":{"type":"array","description":"权限类别列表","items":{"$ref":"#/definitions/TypePermissionVo"}}}},"CreateRoleParam":{"type":"object","required":["roleName"],"properties":{"permissionCodes":{"type":"array","description":"权限Code列表,空表示没有权限[删除所有权限]","items":{"type":"string"}},"remark":{"type":"string","description":"备注[功能权限]"},"roleName":{"type":"string","description":"角色名称"},"userNum":{"type":"integer","format":"int32","description":"用户数,默认0"}}},"QueryUserResutVo":{"type":"object","properties":{"createDate":{"type":"string","format":"date-time","description":"创建时间"},"creatorName":{"type":"string","description":"创建人"},"first":{"type":"integer","format":"int32","description":"是否首次登录"},"firstEdit":{"type":"integer","format":"int32","description":"是否首次编辑布控"},"loadIpLast":{"type":"string","description":"上次登录IP"},"loadIpNow":{"type":"string","description":"本次登录IP"},"loadLast":{"type":"string","format":"date-time","description":"最后登陆时间"},"loadNow":{"type":"string","format":"date-time","description":"本次登陆时间"},"orgId":{"type":"integer","format":"int32","description":"部门id"},"organization":{"description":"部门信息","$ref":"#/definitions/OrganizationResultVO"},"phone":{"type":"string","description":"电话号码"},"realName":{"type":"string","description":"用户名"},"remark":{"type":"string","description":"备注"},"roles":{"type":"array","description":"角色信息列表","items":{"$ref":"#/definitions/RoleResutlVo"}},"serial":{"type":"string","description":"编号[例如:警号]"},"state":{"type":"integer","format":"int32","description":"状态,1-正常，2-禁用，3-删除"},"type":{"type":"integer","format":"int32","description":"类型"},"unit":{"type":"string","description":"单位"},"updateDate":{"type":"string","format":"date-time","description":"更新时间"},"updateUserName":{"type":"string","description":"更新人"},"userId":{"type":"integer","format":"int64","description":"userId"},"userName":{"type":"string","description":"登录名"}}},"QueryPermissionVo":{"type":"object","properties":{"permissionCode":{"type":"string","description":"权限代码"},"permissionName":{"type":"string","description":"权限名称"},"typeId":{"type":"integer","format":"int64","description":"类型id"},"typeName":{"type":"string","description":"类型名称"}}},"UserPwdParam":{"type":"object","required":["id","newPassword","oldPassword"],"properties":{"first":{"type":"integer","format":"int32","description":"是否首次"},"id":{"type":"integer","format":"int64","description":"userId"},"loadIpNow":{"type":"string","description":"本次登录IP"},"newPassword":{"type":"string","description":"新密码"},"oldPassword":{"type":"string","description":"旧密码"}}},"SimpleUserVo":{"type":"object","properties":{"organId":{"type":"integer","format":"int32","description":"部门id"},"realName":{"type":"string","description":"名称"},"userId":{"type":"integer","format":"int64","description":"userId"},"userName":{"type":"string","description":"账户"}}},"UserRoleParam":{"type":"object","required":["userId"],"properties":{"permissionCodes":{"type":"array","description":"自定义权限code列表","items":{"type":"string"}},"roleIds":{"type":"array","description":"角色id列表","items":{"type":"integer","format":"int32"}},"userId":{"type":"integer","format":"int64","description":"用户id"}}},"CreateUserParam":{"type":"object","properties":{"gender":{"type":"integer","format":"int32","description":"性别，1-男，0-女，默认0"},"jobInfo":{"type":"string","description":"岗位"},"orgId":{"type":"integer","format":"int32","description":"部门id"},"password":{"type":"string","description":"密码[新建用户都是默认密码，可不传]"},"permissonCodes":{"type":"array","description":"权限code列表","items":{"type":"string"}},"phone":{"type":"string","description":"电话号码"},"realName":{"type":"string","description":"用户名称"},"roleIds":{"type":"array","description":"角色id列表","items":{"type":"integer","format":"int32"}},"serial":{"type":"string","description":"编号[警号]"},"userName":{"type":"string","description":"账户"}}},"RoleResutlVo":{"type":"object","properties":{"createTime":{"type":"string","format":"date-time","description":"创建时间"},"creatorName":{"type":"string","description":"创建人"},"remark":{"type":"string","description":"功能权限"},"roleCode":{"type":"string","description":"角色代码"},"roleId":{"type":"integer","format":"int32","description":"角色id"},"roleName":{"type":"string","description":"角色名称"},"roleState":{"type":"integer","format":"int32","description":"状态,1-启用，2-禁用，3-删除"},"updateTime":{"type":"string","format":"date-time","description":"更新时间"},"updateUserName":{"type":"string","description":"更新人"},"userNum":{"type":"integer","format":"int32","description":"该角色使用的用户数"}}},"UserOrgVo":{"type":"object","properties":{"organId":{"type":"integer","format":"int32","description":"部门id"},"organName":{"type":"string","description":"部门名称"},"parentOrgId":{"type":"integer","format":"int32","description":"父级部门id"},"subOrgs":{"type":"array","description":"下级部门","items":{"$ref":"#/definitions/UserOrgVo"}},"users":{"type":"array","description":"部门用户列表","items":{"$ref":"#/definitions/SimpleUserVo"}}}}}}
